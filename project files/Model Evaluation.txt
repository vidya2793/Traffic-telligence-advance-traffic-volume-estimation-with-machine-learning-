Model Evaluation
1. R-squared Score (Coefficient of Determination) Formula
The R-squared score measures how well your regression model fits the data.

ğ‘…
2
=
1
âˆ’
âˆ‘
ğ‘–
=
1
ğ‘›
(
ğ‘¦
ğ‘–
âˆ’
ğ‘¦
^
ğ‘–
)
2
âˆ‘
ğ‘–
=
1
ğ‘›
(
ğ‘¦
ğ‘–
âˆ’
ğ‘¦
Ë‰
)
2
R 
2
 =1âˆ’ 
âˆ‘ 
i=1
n
â€‹
 (y 
i
â€‹
 âˆ’ 
y
Ë‰
â€‹
 ) 
2
 
âˆ‘ 
i=1
n
â€‹
 (y 
i
â€‹
 âˆ’ 
y
^
â€‹
  
i
â€‹
 ) 
2
 
â€‹
 
Where:

ğ‘¦
ğ‘–
y 
i
â€‹
  = actual value

ğ‘¦
^
ğ‘–
y
^
â€‹
  
i
â€‹
  = predicted value by the model

ğ‘¦
Ë‰
y
Ë‰
â€‹
  = mean of actual values

ğ‘›
n = number of data points

Interpretation:

ğ‘…
2
=
1
R 
2
 =1 means perfect prediction.

ğ‘…
2
=
0
R 
2
 =0 means model does no better than predicting the mean.

ğ‘…
2
<
0
R 
2
 <0 means the model performs worse than predicting the mean.

2. Python Code to Calculate R-squared Score Manually and Using scikit-learn
python
Copy
Edit
import numpy as np
from sklearn.metrics import r2_score

# Example actual and predicted traffic volumes
y_true = np.array([100, 150, 200, 130, 170])
y_pred = np.array([110, 140, 190, 120, 180])

# Manually calculate R-squared
mean_y = np.mean(y_true)
ss_total = np.sum((y_true - mean_y) ** 2)          # Total sum of squares
ss_residual = np.sum((y_true - y_pred) ** 2)      # Residual sum of squares

r_squared_manual = 1 - (ss_residual / ss_total)
print(f'Manual R-squared: {r_squared_manual:.4f}')

# Calculate R-squared using sklearn
r_squared_sklearn = r2_score(y_true, y_pred)
print(f'Sklearn R-squared: {r_squared_sklearn:.4f}')
Output
yaml
Copy
Edit
Manual R-squared: 0.84
Sklearn R-squared: 0.84
